#!/usr/bin/make -f

%:
	dh $@ --with python-virtualenv

override_dh_shlibs:
	dh_shlibs -l/opt

override_dh_builddeb:
# enforce .xz instead of .zstd compression for aptly in Debian buster
	dh_builddeb -- -Zxz

override_dh_virtualenv:
	dh_virtualenv \
		--package labgrid-base \
		--install-suffix labgrid \
		--python /usr/bin/python3 \
		--builtin-venv \
		--preinstall 'pip>=21.0.0' \
		--preinstall 'setuptools>=38.0.0' \
		--requirements deb-requirements.txt \
		--extra-pip-arg='--no-binary' \
		--extra-pip-arg='cffi,numpy'
